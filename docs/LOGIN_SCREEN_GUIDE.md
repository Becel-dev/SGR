# ğŸ” GUIA DA NOVA TELA DE LOGIN

**Data:** 14/10/2025  
**AtualizaÃ§Ã£o:** Adicionado seletor de mÃºltiplos usuÃ¡rios de teste

---

## ğŸ¨ Visual da Nova Tela

### **Layout Completo:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ›¡ï¸                                â”‚
â”‚    SGR - Sistema de GestÃ£o de Riscos          â”‚
â”‚    FaÃ§a login com sua conta Microsoft...      â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸŸ¦ Entrar com Microsoft              â”‚    â”‚  â† Azure AD (ProduÃ§Ã£o)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€ AMBIENTE DE DESENVOLVIMENTO â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                â”‚
â”‚  ğŸ§ª UsuÃ¡rios de Teste                         â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ‘¤ Pedro Teste                        â”‚    â”‚  â† Clique aqui
â”‚  â”‚    pedro@teste.com                    â”‚    â”‚
â”‚  â”‚    ğŸ‘¨â€ğŸ’¼ UsuÃ¡rio base para setup inicial â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ‘¤ Maria Silva                        â”‚    â”‚  â† Clique aqui
â”‚  â”‚    maria@teste.com                    â”‚    â”‚
â”‚  â”‚    ğŸ‘ï¸ Perfil Visualizador (somente...) â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ‘¤ JoÃ£o Santos                        â”‚    â”‚  â† Clique aqui
â”‚  â”‚    joao@teste.com                     â”‚    â”‚
â”‚  â”‚    âš™ï¸ Gestor de Riscos (criar/editar)  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ‘¤ Ana Costa                          â”‚    â”‚  â† Clique aqui
â”‚  â”‚    ana@teste.com                      â”‚    â”‚
â”‚  â”‚    ğŸ‘‘ Administrador (acesso total)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                â”‚
â”‚  ğŸ’¡ Use usuÃ¡rios de teste para validar...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ O Que Mudou?

### **ANTES (âŒ Problema):**
```tsx
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¦ Entrar com Microsoft             â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€ AMBIENTE DE DESENVOLVIMENTO â”€â”€â”€â”‚
â”‚                                     â”‚
â”‚ ğŸ§ª Login de Teste (pedro@teste.com) â”‚  â† APENAS 1 OPÃ‡ÃƒO!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- âŒ SÃ³ tinha Pedro
- âŒ Precisava editar cÃ³digo para trocar usuÃ¡rio
- âŒ DifÃ­cil testar mÃºltiplos perfis

### **DEPOIS (âœ… SoluÃ§Ã£o):**
```tsx
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¦ Entrar com Microsoft             â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€ AMBIENTE DE DESENVOLVIMENTO â”€â”€â”€â”‚
â”‚                                     â”‚
â”‚ ğŸ§ª UsuÃ¡rios de Teste                â”‚
â”‚                                     â”‚
â”‚ ğŸ‘¤ Pedro Teste                      â”‚  â† OPÃ‡ÃƒO 1
â”‚ ğŸ‘¤ Maria Silva                      â”‚  â† OPÃ‡ÃƒO 2
â”‚ ğŸ‘¤ JoÃ£o Santos                      â”‚  â† OPÃ‡ÃƒO 3
â”‚ ğŸ‘¤ Ana Costa                        â”‚  â† OPÃ‡ÃƒO 4
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- âœ… 4 usuÃ¡rios disponÃ­veis
- âœ… Clique direto para fazer login
- âœ… DescriÃ§Ã£o de cada perfil
- âœ… Ãcones visuais

---

## ğŸ¯ Como Usar

### **Passo 1: Abrir a Tela de Login**
```bash
# 1. Inicie o servidor (se nÃ£o estiver rodando)
npm run dev

# 2. Abra no navegador
http://localhost:3000/auth/signin
```

### **Passo 2: Escolher UsuÃ¡rio**

**OpÃ§Ã£o A - Login ProduÃ§Ã£o:**
```
Clique em: "Entrar com Microsoft"
â†’ Usa Azure AD (EntraID)
â†’ Para usuÃ¡rios reais da empresa
```

**OpÃ§Ã£o B - Login Teste:**
```
Clique em um dos 4 botÃµes de teste:
â†’ Pedro, Maria, JoÃ£o ou Ana
â†’ Login instantÃ¢neo, sem senha
â†’ Apenas em desenvolvimento
```

### **Passo 3: NavegaÃ§Ã£o AutomÃ¡tica**
```
ApÃ³s clicar:
â†’ Login processado automaticamente
â†’ Redirecionado para "/" (homepage)
â†’ Sistema carrega permissÃµes
â†’ Pronto para usar!
```

---

## ğŸ‘¥ DescriÃ§Ã£o dos UsuÃ¡rios

### **1. Pedro Teste** ğŸ‘¨â€ğŸ’¼
```
Email: pedro@teste.com
DescriÃ§Ã£o: UsuÃ¡rio base para setup inicial
Uso: Configure perfis e vincule outros usuÃ¡rios
CenÃ¡rio: Administrador inicial do sistema
```

**Quando usar:**
- âœ… Primeiro login
- âœ… Criar perfis de acesso
- âœ… Vincular outros usuÃ¡rios a perfis
- âœ… Setup inicial do sistema

### **2. Maria Silva** ğŸ‘ï¸
```
Email: maria@teste.com
DescriÃ§Ã£o: Perfil Visualizador (somente leitura)
Uso: Testar permissÃµes de visualizaÃ§Ã£o
CenÃ¡rio: UsuÃ¡rio que sÃ³ pode ver, nÃ£o pode criar/editar
```

**Quando usar:**
- âœ… Testar restriÃ§Ãµes de leitura
- âœ… Validar botÃµes desabilitados
- âœ… Verificar tooltips de "sem permissÃ£o"
- âœ… Simular usuÃ¡rio com acesso limitado

### **3. JoÃ£o Santos** âš™ï¸
```
Email: joao@teste.com
DescriÃ§Ã£o: Gestor de Riscos (criar/editar)
Uso: Testar permissÃµes operacionais
CenÃ¡rio: UsuÃ¡rio que pode criar/editar mas nÃ£o excluir
```

**Quando usar:**
- âœ… Testar criaÃ§Ã£o de riscos
- âœ… Testar ediÃ§Ã£o de controles
- âœ… Validar restriÃ§Ã£o de exclusÃ£o
- âœ… Simular perfil operacional

### **4. Ana Costa** ğŸ‘‘
```
Email: ana@teste.com
DescriÃ§Ã£o: Administrador (acesso total)
Uso: Testar permissÃµes totais
CenÃ¡rio: UsuÃ¡rio com todos os acessos
```

**Quando usar:**
- âœ… Testar funcionalidades completas
- âœ… Validar todos os botÃµes habilitados
- âœ… Acessar mÃ³dulo de administraÃ§Ã£o
- âœ… Simular super usuÃ¡rio

---

## ğŸ”„ Fluxo de Teste Completo

### **CenÃ¡rio 1: Setup Inicial (5 minutos)**

```bash
# 1. Login com Pedro
Clique em: "ğŸ‘¤ Pedro Teste"
â†“
# 2. Criar Perfis
Navegue para: /administration/access-profiles/capture
Crie 3 perfis:
  - Visualizador (apenas view)
  - Gestor de Riscos (view, create, edit)
  - Administrador (todas as permissÃµes)
â†“
# 3. Vincular UsuÃ¡rios
Navegue para: /administration/access-control/capture
Vincule:
  - Maria â†’ Visualizador
  - JoÃ£o â†’ Gestor de Riscos
  - Ana â†’ Administrador
â†“
# 4. Logout
Avatar (canto direito) â†’ Sair
```

### **CenÃ¡rio 2: Testar Visualizador (3 minutos)**

```bash
# 1. Na tela de login
Clique em: "ğŸ‘¤ Maria Silva"
â†“
# 2. Testar IdentificaÃ§Ã£o
Navegue para: /identification
Verificar: BotÃ£o "Identificar Novo Risco" DESABILITADO âœ…
Verificar: Tooltip mostra "Sem permissÃ£o" âœ…
â†“
# 3. Testar Controles
Navegue para: /controls
Verificar: BotÃ£o "Novo Controle" DESABILITADO âœ…
â†“
# 4. Testar AdministraÃ§Ã£o
Navegue para: /administration
Verificar: Redireciona para /access-denied âœ…
â†“
# 5. Logout
Avatar â†’ Sair
```

### **CenÃ¡rio 3: Testar Gestor (3 minutos)**

```bash
# 1. Na tela de login
Clique em: "ğŸ‘¤ JoÃ£o Santos"
â†“
# 2. Testar CriaÃ§Ã£o
Navegue para: /identification
Verificar: BotÃ£o "Identificar Novo Risco" HABILITADO âœ…
Clicar e testar criaÃ§Ã£o âœ…
â†“
# 3. Testar EdiÃ§Ã£o
Navegue para: /controls
Verificar: Pode editar controles existentes âœ…
â†“
# 4. Testar ExclusÃ£o
Tentar excluir um controle
Verificar: BotÃ£o "Excluir" DESABILITADO âœ…
â†“
# 5. Logout
Avatar â†’ Sair
```

### **CenÃ¡rio 4: Testar Admin (2 minutos)**

```bash
# 1. Na tela de login
Clique em: "ğŸ‘¤ Ana Costa"
â†“
# 2. Testar Acesso Total
Navegue para: /identification
Verificar: TODOS os botÃµes HABILITADOS âœ…
â†“
# 3. Testar AdministraÃ§Ã£o
Navegue para: /administration
Verificar: ACESSO PERMITIDO âœ…
â†“
# 4. Testar ExclusÃ£o
Navegue para: /controls
Verificar: Pode excluir controles âœ…
â†“
# 5. Logout
Avatar â†’ Sair
```

---

## ğŸ¨ Cores e Estilo

### **Visual dos BotÃµes:**

**Pedro (Azul):**
```css
Background: orange-50
Hover: orange-100
Border: orange-200
Text: orange-900
Icon: orange-600
```

**Maria (Roxo):**
```css
/* Mesma cor base (visual unificado) */
Background: orange-50
Text: orange-900
Description: "ğŸ‘ï¸ Perfil Visualizador"
```

**JoÃ£o (Verde):**
```css
/* Mesma cor base (visual unificado) */
Background: orange-50
Text: orange-900
Description: "âš™ï¸ Gestor de Riscos"
```

**Ana (Laranja):**
```css
/* Mesma cor base (visual unificado) */
Background: orange-50
Text: orange-900
Description: "ğŸ‘‘ Administrador"
```

**Todos os botÃµes tÃªm:**
- âœ… Hover suave (bg-orange-100)
- âœ… Borda laranja clara
- âœ… Ãcone de usuÃ¡rio
- âœ… Nome em negrito
- âœ… Email em fonte menor
- âœ… DescriÃ§Ã£o do perfil

---

## ğŸš€ Atalhos de Teclado

### **NavegaÃ§Ã£o RÃ¡pida:**
```
Tab â†’ Move entre botÃµes
Enter â†’ Clica no botÃ£o selecionado
Space â†’ Clica no botÃ£o selecionado
Esc â†’ (futuro) Fecha modal se houver
```

---

## ğŸ› ResoluÃ§Ã£o de Problemas

### **Problema: NÃ£o vejo os usuÃ¡rios de teste**

**Causa:** EstÃ¡ em produÃ§Ã£o  
**SoluÃ§Ã£o:**
```bash
# Verifique o ambiente
echo $NODE_ENV  # Deve ser 'development'

# Ou no package.json:
"dev": "next dev"  # â† Use este comando
```

### **Problema: Clico mas nÃ£o loga**

**Causa:** Provider nÃ£o configurado  
**SoluÃ§Ã£o:**
```typescript
// Verifique src/lib/auth.ts
// Deve ter Credentials provider com id: 'test-credentials'
Credentials({
  id: 'test-credentials',  // â† Importante!
  name: 'Test Credentials',
  // ...
})
```

### **Problema: Erro "Invalid credentials"**

**Causa:** Email nÃ£o existe na lista  
**SoluÃ§Ã£o:**
```typescript
// Verifique src/lib/auth.ts
const testUsers = [
  { email: 'pedro@teste.com', name: 'Pedro Teste' },
  { email: 'maria@teste.com', name: 'Maria Silva' },
  { email: 'joao@teste.com', name: 'JoÃ£o Santos' },
  { email: 'ana@teste.com', name: 'Ana Costa' },
];
// â†‘ Devem estar todos presentes
```

### **Problema: Redireciona mas nÃ£o mostra nome**

**Causa:** Session nÃ£o atualizada  
**SoluÃ§Ã£o:**
```bash
# Limpe o cache do navegador
Ctrl+Shift+Del â†’ Limpar cookies

# Ou use modo anÃ´nimo
Ctrl+Shift+N (Chrome)
Ctrl+Shift+P (Firefox)
```

---

## ğŸ“Š ComparaÃ§Ã£o Visual

### **Antes vs Depois:**

| Aspecto | Antes âŒ | Depois âœ… |
|---------|----------|-----------|
| **UsuÃ¡rios disponÃ­veis** | 1 (Pedro) | 4 (Pedro, Maria, JoÃ£o, Ana) |
| **Interface** | BotÃ£o Ãºnico | 4 cards descritivos |
| **Troca de usuÃ¡rio** | Editar cÃ³digo | Clique no card |
| **InformaÃ§Ãµes** | SÃ³ email | Nome + email + descriÃ§Ã£o |
| **Visual** | Simples | Cards com Ã­cones e cores |
| **UX** | Confuso | Intuitivo e auto-explicativo |
| **Tempo de troca** | 2-3 minutos | 5 segundos |
| **DocumentaÃ§Ã£o** | Nenhuma | Este guia! |

---

## âœ… Checklist de ValidaÃ§Ã£o

ApÃ³s fazer login com cada usuÃ¡rio, verifique:

**Pedro:**
- [ ] Consegue fazer login
- [ ] Nome aparece no avatar
- [ ] Pode criar perfis
- [ ] Pode vincular usuÃ¡rios

**Maria:**
- [ ] Consegue fazer login
- [ ] VÃª a tela de identificaÃ§Ã£o
- [ ] BotÃ£o "Criar" estÃ¡ desabilitado
- [ ] Tooltip mostra mensagem

**JoÃ£o:**
- [ ] Consegue fazer login
- [ ] Pode criar novos riscos
- [ ] Pode editar controles
- [ ] NÃƒO pode excluir

**Ana:**
- [ ] Consegue fazer login
- [ ] Acessa administraÃ§Ã£o
- [ ] Pode criar/editar/excluir
- [ ] Tem todos os acessos

---

## ğŸ¯ PrÃ³ximos Passos

1. âœ… **Testar a nova interface** (agora mesmo!)
2. âœ… **Seguir o fluxo de teste completo** (15 minutos)
3. âœ… **Validar permissÃµes** (use checklist)
4. âœ… **Reportar qualquer problema** (se houver)

---

## ğŸ“š DocumentaÃ§Ã£o Relacionada

- ğŸ“– `LOGIN_GUIDE.md` - Guia detalhado de login
- ğŸ” `LOGOUT_GUIDE.md` - Como fazer logout
- âœ… `VALIDATION_CHECKLIST.md` - Checklist completo
- ğŸ§ª `TESTING_GUIDE.md` - Guia de testes (600+ linhas)
- ğŸ“Š `EXECUTIVE_SUMMARY.md` - VisÃ£o geral do sistema

---

## ğŸŠ Resumo Final

### **Agora vocÃª pode:**
âœ… Ver todos os 4 usuÃ¡rios de teste na tela de login  
âœ… Clicar em qualquer um para fazer login instantÃ¢neo  
âœ… Trocar de usuÃ¡rio em 5 segundos (logout + novo login)  
âœ… Testar diferentes nÃ­veis de permissÃ£o facilmente  
âœ… Validar o ACL completo sem editar cÃ³digo  

### **Tempo para testar tudo:**
- Setup inicial: 5 minutos
- Testar Maria: 3 minutos
- Testar JoÃ£o: 3 minutos
- Testar Ana: 2 minutos
- **TOTAL: ~15 minutos** âš¡

ğŸš€ **EstÃ¡ pronto! Abra http://localhost:3000/auth/signin e comece!**

---

**Ãšltima atualizaÃ§Ã£o:** 14/10/2025  
**VersÃ£o:** 2.0 (Multi-usuÃ¡rio)
